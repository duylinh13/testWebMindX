{"ast":null,"code":"import React,{useState}from\"react\";import{FaRegCircle,FaRegCheckCircle}from\"react-icons/fa\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const TodoList=_ref=>{let{tasks,setTasks,showNotFinishedOnly}=_ref;const[draggedTask,setDraggedTask]=useState(null);const toggleDone=taskId=>{setTasks(prevTasks=>prevTasks.map(task=>task.id===taskId?{...task,done:!task.done}:task));};const handleDragStart=task=>{setDraggedTask(task);};const handleDragOver=e=>{e.preventDefault();};const handleDrop=()=>{setTasks(prevTasks=>{const updatedTasks=prevTasks.filter(task=>task.id!==draggedTask.id);const dropIndex=tasks.findIndex(task=>task.id===draggedTask.id);updatedTasks.splice(dropIndex,0,draggedTask);return updatedTasks;});setDraggedTask(null);};const filteredTasks=showNotFinishedOnly?tasks.filter(task=>!task.done):tasks;return/*#__PURE__*/_jsx(\"div\",{className:\"todo-list-container\",children:filteredTasks.map(task=>/*#__PURE__*/_jsxs(\"div\",{className:\"todo-item-container \".concat(task.done?\"done\":\"\"),draggable:true,onDragStart:()=>handleDragStart(task),onDragOver:e=>handleDragOver(e),onDrop:()=>handleDrop(),children:[task.done?/*#__PURE__*/_jsx(FaRegCheckCircle,{className:\"item-done-button\",color:\"#9a9a9a\",onClick:()=>toggleDone(task.id)}):/*#__PURE__*/_jsx(FaRegCircle,{className:\"item-done-button\",color:\"#9a9a9a\",onClick:()=>toggleDone(task.id)}),/*#__PURE__*/_jsx(\"div\",{className:\"item-title\",children:task.title}),task.dueDate&&/*#__PURE__*/_jsxs(\"div\",{className:\"item-due-date\",children:[calculateDaysLeft(task.dueDate),\" days left\"]})]},task.id))});};export default TodoList;","map":{"version":3,"names":["React","useState","FaRegCircle","FaRegCheckCircle","jsx","_jsx","jsxs","_jsxs","TodoList","_ref","tasks","setTasks","showNotFinishedOnly","draggedTask","setDraggedTask","toggleDone","taskId","prevTasks","map","task","id","done","handleDragStart","handleDragOver","e","preventDefault","handleDrop","updatedTasks","filter","dropIndex","findIndex","splice","filteredTasks","className","children","concat","draggable","onDragStart","onDragOver","onDrop","color","onClick","title","dueDate","calculateDaysLeft"],"sources":["D:/testMindX/mindx/xcareer-lv-3-test-forked (1)/src/TodoList.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { FaRegCircle, FaRegCheckCircle } from \"react-icons/fa\";\n\nconst TodoList = ({ tasks, setTasks, showNotFinishedOnly }) => {\n  const [draggedTask, setDraggedTask] = useState(null);\n\n  const toggleDone = (taskId) => {\n    setTasks((prevTasks) =>\n      prevTasks.map((task) =>\n        task.id === taskId ? { ...task, done: !task.done } : task\n      )\n    );\n  };\n\n  const handleDragStart = (task) => {\n    setDraggedTask(task);\n  };\n\n  const handleDragOver = (e) => {\n    e.preventDefault();\n  };\n\n  const handleDrop = () => {\n    setTasks((prevTasks) => {\n      const updatedTasks = prevTasks.filter(\n        (task) => task.id !== draggedTask.id\n      );\n      const dropIndex = tasks.findIndex((task) => task.id === draggedTask.id);\n      updatedTasks.splice(dropIndex, 0, draggedTask);\n      return updatedTasks;\n    });\n    setDraggedTask(null);\n  };\n\n  const filteredTasks = showNotFinishedOnly\n    ? tasks.filter((task) => !task.done)\n    : tasks;\n\n  return (\n    <div className=\"todo-list-container\">\n      {filteredTasks.map((task) => (\n        <div\n          key={task.id}\n          className={`todo-item-container ${task.done ? \"done\" : \"\"}`}\n          draggable\n          onDragStart={() => handleDragStart(task)}\n          onDragOver={(e) => handleDragOver(e)}\n          onDrop={() => handleDrop()}\n        >\n          {task.done ? (\n            <FaRegCheckCircle\n              className=\"item-done-button\"\n              color=\"#9a9a9a\"\n              onClick={() => toggleDone(task.id)}\n            />\n          ) : (\n            <FaRegCircle\n              className=\"item-done-button\"\n              color=\"#9a9a9a\"\n              onClick={() => toggleDone(task.id)}\n            />\n          )}\n          <div className=\"item-title\">{task.title}</div>\n          {task.dueDate && (\n            <div className=\"item-due-date\">\n              {calculateDaysLeft(task.dueDate)} days left\n            </div>\n          )}\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default TodoList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}